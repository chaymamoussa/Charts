<div *ngIf="barChartData | async as barChartData ; else loading">
  <div style="display: block">
    <canvas baseChart
    [type]="'bar'"
    [labels]="barChartData.labels"
    [datasets]="barChartData.datasets"
    [options]="{ responsive: true, maintainAspectRatio: false}"
    >
    </canvas>
  </div>
</div>

<ng-template #loading>
  <mat-progress-spinner diameter="50"></mat-progress-spinner>
</ng-template>
